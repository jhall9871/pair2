{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jameshall 1/Desktop/seir-526/project-2-react/pair/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jameshall 1/Desktop/seir-526/project-2-react/pair/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jameshall 1/Desktop/seir-526/project-2-react/pair/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Route,Switch}from\"react-router-dom\";import Welcome from\"./Components/Welcome\";import ModeSelect from\"./Components/ModeSelect\";import MenuWine from\"./Components/MenuWine\";import MenuFood from\"./Components/MenuFood\";import RecipeRec from\"./Components/RecipeRec\";import wineTypes from\"./wineTypeData\";import foodTypes from\"./foodTypeData\";import\"./App.css\";function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),selectedWine=_useState2[0],setSelectedWine=_useState2[1];//the wine the user selects\nvar _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),selectionInfo=_useState4[0],setSelectionInfo=_useState4[1];//the whole object corresponding to that wine\nvar _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),recipeUrl=_useState6[0],setRecipeUrl=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),recipeRec=_useState8[0],setRecipeRec=_useState8[1];//the recipe(s) we'll recommend\nvar _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),pairingFactor1=_useState10[0],setPairingFactor1=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),pairingFactor2=_useState12[0],setPairingFactor2=_useState12[1];var handleWineSelect=function handleWineSelect(event){setSelectedWine(event.target.dataset.id);setSelectionInfo(wineTypes[event.target.dataset.id]);};var handleShowMeClick=function handleShowMeClick(){console.log(\"showme click!\");console.log(\"recipeUrl = \"+recipeUrl);//actually make the api call\nvar makeApiCall=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"Making API Call!!! No more than 5 per hour!\");_context.next=3;return fetch(recipeUrl);case 3:response=_context.sent;_context.next=6;return response.json();case 6:json=_context.sent;setRecipeRec(json);console.log(recipeRec);case 9:case\"end\":return _context.stop();}}},_callee);}));return function makeApiCall(){return _ref.apply(this,arguments);};}();makeApiCall();//exceeded my limit! wait to re-establish this.\n};//listen for a change in selectedWine, set the search url.\nuseEffect(function(){console.log(\"useEffect! Selected wine = \"+selectedWine);//if a wine has been selected,\nif(selectedWine){//get wine pairing array\nvar pairingArray=wineTypes[selectedWine].pairingArray;//get array of food categories\nvar foodTypeArray=Object.keys(foodTypes);//create array of arrays of food subcategories\nvar foodSubtypeArray=[];foodTypeArray.forEach(function(type){foodSubtypeArray.push(Object.keys(foodTypes[type]));});//flatten the array of arrays into one big array\nvar flatArray=foodSubtypeArray.flat();// console.log(\"foodTypeArray = \" + foodTypeArray);\n// console.log(flatArray);\n//create an array with only foods with a value of \"2\" from pairing array (great pairs)\n//for now, we're being more general, so \"pork\" rather than \"roast, tenderloin\" etc.\nvar masterArray=[];for(var i=0;i<flatArray.length;i++){if(pairingArray[i]===2){masterArray.push(flatArray[i]);}}// console.log(masterArray)\n// select two random indices from the master array\nvar num1=Math.floor(Math.random()*(masterArray.length/2));var num2=Math.floor(Math.random()*(masterArray.length/2)+masterArray.length/2);// console.log(num1, num2);\n// TO DO: sparkling and rose only have one \"2\" apiece!\n// make our selections based on these indices\nvar localPairFactor1=masterArray[num1];var localPairFactor2=masterArray[num2];// console.log(\"local factor 1 = \" + localPairFactor1 + \" local factor 2 = \" + localPairFactor2)\nsetRecipeUrl(\"https://api.edamam.com/search?q=\".concat(localPairFactor1,\"%20AND%20\").concat(localPairFactor2,\"&app_id=d9740b8f&app_key=ef3b8ea5fd0b0bffed8b9bc13e135c91\"));// console.log(\"recipeURL = \" + recipeUrl);\nsetPairingFactor1(localPairFactor1);setPairingFactor2(localPairFactor2);}},[selectedWine]);return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"nav\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"main\"},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",component:Welcome}),/*#__PURE__*/React.createElement(Route,{path:\"/modeselect\",component:ModeSelect}),/*#__PURE__*/React.createElement(Route,{path:\"/menuwine\",render:function render(routerProps){return/*#__PURE__*/React.createElement(MenuWine,Object.assign({handleWineSelect:handleWineSelect,selectionInfo:selectionInfo,pairingFactor1:pairingFactor1,pairingFactor2:pairingFactor2,handleShowMeClick:handleShowMeClick},routerProps));}}),/*#__PURE__*/React.createElement(Route,{path:\"/reciperec\",render:function render(routerProps){return/*#__PURE__*/React.createElement(RecipeRec,Object.assign({recipeRec:recipeRec,factor1:pairingFactor1,factor2:pairingFactor2,selectionInfo:selectionInfo},routerProps));}}),/*#__PURE__*/React.createElement(Route,{path:\"/menufood\",component:MenuFood}))));}export default App;","map":{"version":3,"sources":["/Users/jameshall 1/Desktop/seir-526/project-2-react/pair/src/App.js"],"names":["React","useState","useEffect","Route","Switch","Welcome","ModeSelect","MenuWine","MenuFood","RecipeRec","wineTypes","foodTypes","App","selectedWine","setSelectedWine","selectionInfo","setSelectionInfo","recipeUrl","setRecipeUrl","recipeRec","setRecipeRec","pairingFactor1","setPairingFactor1","pairingFactor2","setPairingFactor2","handleWineSelect","event","target","dataset","id","handleShowMeClick","console","log","makeApiCall","fetch","response","json","pairingArray","foodTypeArray","Object","keys","foodSubtypeArray","forEach","type","push","flatArray","flat","masterArray","i","length","num1","Math","floor","random","num2","localPairFactor1","localPairFactor2","routerProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Welcome from \"./Components/Welcome\";\nimport ModeSelect from \"./Components/ModeSelect\";\nimport MenuWine from \"./Components/MenuWine\";\nimport MenuFood from \"./Components/MenuFood\";\nimport RecipeRec from \"./Components/RecipeRec\";\nimport wineTypes from \"./wineTypeData\";\nimport foodTypes from \"./foodTypeData\";\nimport \"./App.css\";\n\nfunction App() {\n  const [selectedWine, setSelectedWine] = useState(\"\"); //the wine the user selects\n  const [selectionInfo, setSelectionInfo] = useState({}); //the whole object corresponding to that wine\n  const [recipeUrl, setRecipeUrl] = useState(\"\");\n  const [recipeRec, setRecipeRec] = useState(\"\"); //the recipe(s) we'll recommend\n  const [pairingFactor1, setPairingFactor1] = useState(\"\");\n  const [pairingFactor2, setPairingFactor2] = useState(\"\");\n\n  const handleWineSelect = (event) => {\n    setSelectedWine(event.target.dataset.id);\n    setSelectionInfo(wineTypes[event.target.dataset.id]);\n  };\n\n  const handleShowMeClick = () => {\n    console.log(\"showme click!\")\n    console.log(\"recipeUrl = \" + recipeUrl)\n    //actually make the api call\n    const makeApiCall = async () => {\n      console.log(\"Making API Call!!! No more than 5 per hour!\")\n      const response = await fetch(recipeUrl);\n      const json = await response.json();\n      setRecipeRec(json);\n      console.log(recipeRec)\n    };\n    makeApiCall(); //exceeded my limit! wait to re-establish this.\n  };\n\n  //listen for a change in selectedWine, set the search url.\n  useEffect(() => {\n    console.log(\"useEffect! Selected wine = \" + selectedWine)\n    //if a wine has been selected,\n    if (selectedWine) {\n      //get wine pairing array\n      let pairingArray = wineTypes[selectedWine].pairingArray;\n      //get array of food categories\n      let foodTypeArray = Object.keys(foodTypes);\n      //create array of arrays of food subcategories\n      let foodSubtypeArray = [];\n      foodTypeArray.forEach((type) => {\n        foodSubtypeArray.push(Object.keys(foodTypes[type]));\n      });\n      //flatten the array of arrays into one big array\n      let flatArray = foodSubtypeArray.flat();\n      // console.log(\"foodTypeArray = \" + foodTypeArray);\n      // console.log(flatArray);\n      //create an array with only foods with a value of \"2\" from pairing array (great pairs)\n      //for now, we're being more general, so \"pork\" rather than \"roast, tenderloin\" etc.\n      let masterArray = [];\n      for (let i = 0; i < flatArray.length; i++) {\n        if (pairingArray[i] === 2) {\n          masterArray.push(flatArray[i]);\n        }\n      }\n      // console.log(masterArray)\n      // select two random indices from the master array\n      let num1 = Math.floor(Math.random() * (masterArray.length / 2));\n      let num2 = Math.floor((Math.random() * (masterArray.length / 2)) + (masterArray.length / 2));\n\n      // console.log(num1, num2);\n      // TO DO: sparkling and rose only have one \"2\" apiece!\n\n      // make our selections based on these indices\n\n      let localPairFactor1 = masterArray[num1];\n      let localPairFactor2 = masterArray[num2];\n\n      // console.log(\"local factor 1 = \" + localPairFactor1 + \" local factor 2 = \" + localPairFactor2)\n\n      setRecipeUrl(`https://api.edamam.com/search?q=${localPairFactor1}%20AND%20${localPairFactor2}&app_id=d9740b8f&app_key=ef3b8ea5fd0b0bffed8b9bc13e135c91`);\n      // console.log(\"recipeURL = \" + recipeUrl);\n      setPairingFactor1(localPairFactor1);\n      setPairingFactor2(localPairFactor2);\n    }\n  }, [selectedWine]);\n\n  return (\n    <div className=\"App\">\n      <nav></nav>\n      <div className=\"main\">\n        <Switch>\n          <Route exact path=\"/\" component={Welcome} />\n          <Route path=\"/modeselect\" component={ModeSelect} />\n          <Route\n            path=\"/menuwine\"\n            render={(routerProps) => (\n              <MenuWine handleWineSelect={handleWineSelect} selectionInfo={selectionInfo} pairingFactor1={pairingFactor1} pairingFactor2={pairingFactor2} handleShowMeClick={handleShowMeClick} {...routerProps} />\n            )} />\n          <Route\n            path=\"/reciperec\"\n            render={(routerProps) => (\n              <RecipeRec recipeRec={recipeRec} factor1={pairingFactor1} factor2={pairingFactor2} selectionInfo={selectionInfo} {...routerProps} />\n            )}\n          />\n          <Route path=\"/menufood\" component={MenuFood} />\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}